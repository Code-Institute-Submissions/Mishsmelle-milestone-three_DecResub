{% extends "base.html" %}




{% block content %}







<h3 class="light-blue-text text-darken-4 center-align">Edit film</h3>







<div class="row card-panel grey lighten-5">


    <form class="col s12" method="POST" action="{{ url_for('edit_film', film_id=film._id) }}">


        <!-- genre selection -->


        <div class="row">


            <div class="input-field col s12">


                <i class="fas fa-folder-open prefix light-blue-text text-darken-4"></i>


                <select id="genre_name" name="genre_name" class="validate" required>


                    <option value="" disabled>Choose genre</option>


                    {% for genre in genres %}


                    {% if genre.genre_name == film.genre_name %}


                    <option value="{{ genre.genre_name }}" selected>{{ genre.genre_name }}</option>


                    {% else %}


                    <option value="{{ genre.genre_name }}">{{ genre.genre_name }}</option>


                    {% endif %}


                    {% endfor %}


                </select>


                <label for="genre_name">film genre</label>


            </div>


        </div>


        <!-- film name -->


        <div class="row">


            <div class="input-field col s12">


                <i class="fas fa-pencil-alt prefix light-blue-text text-darken-4"></i>


                <input id="film_name" name="film_name" minlength="5" maxlength="50" value="{{ film.film_name }}"
                    type="text" class="validate" required>


                <label for="film_name">film Name</label>


            </div>


        </div>


        <!-- film description -->


        <div class="row">


            <div class="input-field col s12">


                <i class="fas fa-align-left prefix light-blue-text text-darken-4"></i>


                <textarea id="film_description" name="film_description" minlength="5" maxlength="200"
                    class="materialize-textarea validate" required>


                       {{- film.film_description -}}


                   </textarea>


                <label for="film_description">film Description</label>


            </div>


        </div>


        <!-- due date picker -->


        <div class="row">


            <div class="input-field col s12">


                <i class="fas fa-calendar-alt prefix light-blue-text text-darken-4"></i>


                <input id="due_date" name="due_date" type="text" value="{{ film.due_date }}" class="datepicker validate"
                    required>


                <label for="due_date">Due Date</label>


            </div>


        </div>


        <!-- is urgent toggle -->


        <div class="row">


            <div class="input-field col s12">


                <div class="switch">


                    <i class="fas fa-exclamation-circle prefix light-blue-text text-darken-4"></i>


                    <label for="is_urgent">


                        {% if film.is_urgent == "on" %}


                        <input type="checkbox" id="is_urgent" name="is_urgent" checked>


                        {% else %}


                        <input type="checkbox" id="is_urgent" name="is_urgent">


                        {% endif %}


                        <span class="lever"></span>


                        Is Urgent


                    </label>


                </div>


            </div>


        </div>


        <!-- submit button -->


        <div class="row">


            <div class="col s12 center-align">


                <!-- cancel button -->


                <a href="{{ url_for('get_films') }}" class="btn-large red text-shadow">


                    Cancel <i class="fas fa-times-circle right"></i>


                </a>


                <button type="submit" class="btn-large light-blue darken-1 text-shadow">


                    Edit film <i class="fas fa-edit right"></i>


                </button>


            </div>


        </div>


    </form>


</div>







{% endblock %}